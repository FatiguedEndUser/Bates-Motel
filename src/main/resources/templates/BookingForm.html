<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>BatesHotel â€“ Book & Pay</title>
    <link rel="stylesheet" href="/css/bookingform.css"/>
</head>
<body>
<div class="page-wrapper">
    <header class="top-header">
        <div th:replace="fragments/navbar"></div>
    </header>

    <form th:action="@{/payment/processPayment}" method="post" th:object="${newPayment}" class="forms-container" >

        <!-- CONTACT INFO -->
        <div class="left-col">
            <div class="form-panel">
                <h2 class="section-title">Contact Info</h2>
                <div class="form-group">
                    <label for="firstName">First Name</label>
                    <input type="text"
                           id="firstName"
                           name="firstName"
                           th:value="${firstName}"
                           placeholder="First Name"
                           required/>
                </div>
                <div class="form-group">
                    <label for="lastName">Last Name</label>
                    <input type="text"
                           id="lastName"
                           name="lastName"
                           th:value="${lastName}"
                           placeholder="Last Name"
                           required/>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email"
                           id="email"
                           name="email"
                           th:value="${email}"
                           placeholder="you@example.com"
                           required/>
                </div>
            </div>

            <!-- BOOKING DETAILS -->
            <div class="form-panel">
                <h2 class="section-title">Booking Details</h2>
                <input type="hidden" name="roomId"    th:value="${roomId}"/>
                <input type="hidden" name="roomType"  th:value="${roomType}"/>
                <input type="hidden" name="roomTitle" th:value="${roomTitle}"/>

                <div class="form-group">
                    <label for="checkin">Check-in Date</label>
                    <input type="date"
                           id="checkin"
                           name="checkin"
                           th:value="${checkin}"
                           placeholder="YYYY-MM-DD"
                           required/>
                </div>
                <div class="form-group">
                    <label for="checkout">Check-out Date</label>
                    <input type="date"
                           id="checkout"
                           name="checkout"
                           th:value="${checkout}"
                           placeholder="YYYY-MM-DD"
                           required/>
                </div>
                <div class="form-group">
                    <label for="guests">Number of Guests</label>
                    <input type="number"
                           id="guests"
                           th:value="${guests} ?: 1"
                           min="1"
                           required/>
                </div>
                <div class="form-group">
                    <label for="roomPreference">Room Preference</label>
                    <select id="roomPreference" name="roomPreference">
                        <option value="" disabled selected>Select preference</option>
                        <option value="quiet">Quiet Corner</option>
                        <option value="view">Window View</option>
                        <option value="spacious">Spacious</option>
                        <option value="accessible">Accessible</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="floorPreference">Floor Preference</label>
                    <select id="floorPreference" name="floorPreference">
                        <option value="" disabled selected>Select floor</option>
                        <option value="low">Lower</option>
                        <option value="middle">Middle</option>
                        <option value="high">Upper</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- PAYMENT DETAILS + SUBMIT -->
        <div class="form-panel payment-column">
            <h2 class="section-title">Payment Details</h2>
            <!-- carry-forward booking data -->
            <input type="hidden" name="roomId"          th:value="${roomId}"/>
            <input type="hidden" name="roomType"        th:value="${roomType}"/>
            <input type="hidden" name="roomTitle"       th:value="${roomTitle}"/>
            <input type="hidden" name="checkin"         th:value="${checkin}"/>
            <input type="hidden" name="checkout"        th:value="${checkout}"/>
            <input type="hidden" name="guests"          th:value="${guests}"/>
            <input type="hidden" name="roomPreference"  th:value="${roomPreference}"/>
            <input type="hidden" name="floorPreference" th:value="${floorPreference}"/>

            <div class="form-group">
                <label for="cardName">Name on Card</label>
                <input type="text"
                       id="cardName"
                       name="name"
                       placeholder="First & Last Name"
                       required/>
            </div>
            <div class="form-group">
                <label for="cardNumber">Card Number</label>
                <input type="text"
                       id="cardNumber"
                       name="cardNumber"
                       placeholder="1234 5678 9012 3456"
                       required/>
            </div>
            <div class="form-group">
                <label for="expiryDate">Expiry (MM/YY)</label>
                <input type="text"
                       id="expiryDate"
                       name="exp"
                       placeholder="MM/YY"
                       required/>
            </div>
            <div class="form-group">
                <label for="cvv">CVV</label>
                <input type="text"
                       id="cvv"
                       name="cvv"
                       placeholder="123"
                       required/>
            </div>
            <div class="form-group">
                <label for="billingZip">Billing ZIP</label>
                <input type="text"
                       id="billingZip"
                       name="zip"
                       placeholder="ZIP code"
                       required/>
            </div>

            <!-- submit button in payment panel -->
            <div class="button-group">
                <button type="submit">Confirm Booking &amp; Pay</button>
            </div>
        </div>

    </form>

    <div th:replace="fragments/footer"></div>
</div>
</body>
</html>
