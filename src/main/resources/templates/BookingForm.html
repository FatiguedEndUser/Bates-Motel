<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Booking Form - Bates Hotel</title>
    <link rel="stylesheet" href="/css/bookingform.css"/>
</head>
<body>
<div class="page-wrapper">

    <!-- Header -->
    <header class="top-header">
        <div th:replace="fragments/navbar"></div>
    </header>

    <!-- Title -->
    <section class="rooms-header">
        <h1 class="rooms-title">BOOK A ROOM</h1>
    </section>

    <form class="booking-form"
          th:action="@{/payment}"
          method="get">

        <!-- Hidden: carry through data the user won't change here -->
        <input type="hidden" name="roomType"        th:value="${roomType}"       />
        <input type="hidden" name="roomTitle"       th:value="${roomTitle}"      />
        <input type="hidden" name="roomId"          th:value="${roomId}"         />
        <input type="hidden" name="firstName"       th:value="${firstName}"      />
        <input type="hidden" name="lastName"        th:value="${lastName}"       />
        <input type="hidden" name="email"           th:value="${email}"          />
        <input type="hidden" name="roomPreference"  th:value="${roomPreference}" />
        <input type="hidden" name="floorPreference" th:value="${floorPreference}"/>

        <!-- customer sees and edits these -->
        <section class="checkin-section">
            <h2 class="checkin-title">Who's checking in?</h2>
            <p class="checkin-subtitle">
                <a class="sign-in-link" th:href="@{/login}">Sign in for faster checkout</a>
            </p>
            <br/><br/>

            <div class="form-group">
                <label for="checkin">Check-in Date</label>
                <input type="date"
                       id="checkin"
                       name="checkin"
                       required
                       th:value="${checkin}"/>
            </div>

            <div class="form-group">
                <label for="checkout">Check-out Date</label>
                <input type="date"
                       id="checkout"
                       name="checkout"
                       required
                       th:value="${checkout}"/>
            </div>

            <div class="form-group">
                <label for="guests">Number of Guests</label>
                <input type="number"
                       id="guests"
                       name="guests"
                       min="1"
                       required
                       th:value="${guests != null ? guests : 1}"/>
            </div>
        </section>

        <!-- Room preferences -->
        <section class="preferences-section">
            <div class="form-group">
                <label for="roomPreference">Room Preference</label>
                <select id="roomPreference"
                        name="roomPreference"
                        th:value="${roomPreference}">
                    <option value="">Select your preference</option>
                    <option value="quiet">Quiet Corner</option>
                    <option value="view">Window with a View</option>
                    <option value="spacious">Spacious Room</option>
                    <option value="accessible">Accessible Room</option>
                </select>
            </div>

            <div class="form-group">
                <label for="floorPreference">Preferred Floor</label>
                <select id="floorPreference"
                        name="floorPreference"
                        th:value="${floorPreference}">
                    <option value="">Select preferred floor</option>
                    <option value="low">Lower Floor</option>
                    <option value="middle">Middle Floor</option>
                    <option value="high">Upper Floor</option>
                </select>
            </div>
        </section>

        <!-- Form actions -->
        <div class="form-buttons">
            <button type="submit">Book Now</button>
            <button type="button"
                    onclick="window.location.href='/rooms/standard-rooms';">
                Cancel
            </button>
        </div>

    </form>

    <!-- Footer -->
    <div th:replace="fragments/footer"></div>
</div>
</body>
</html>
